(function(){function i(e){var t=-1,n=e.length,r=[];while(++t<n)r.push(e[t]);return r}function s(e){return Array.prototype.slice.call(e)}function a(){return this}function f(e){return e!=null&&!isNaN(e)}function l(e){return e.length}function c(e){return e==null}function h(e){return e.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function d(){}function v(){function n(){var t=e,n=-1,r=t.length,i;while(++n<r)(i=t[n])._on&&i.apply(this,arguments)}var e=[],t={};return n.on=function(r,i){var s,o;if(s=t[r])s._on=!1,e=e.slice(0,o=e.indexOf(s)).concat(e.slice(o+1)),delete t[r];return i&&(i._on=!0,e.push(i),t[r]=i),n},n}function y(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function b(e){return e+""}function w(e){var t=e.lastIndexOf("."),n=t>=0?e.substring(t):(t=e.length,""),r=[];while(t>0)r.push(e.substring(t-=3,t+3));return r.reverse().join(",")+n}function S(e,t){return{scale:Math.pow(10,(8-t)*3),symbol:e}}function k(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function L(e){return function(t){return 1-e(1-t)}}function A(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function O(e){return e}function M(e){return function(t){return Math.pow(t,e)}}function _(e){return 1-Math.cos(e*Math.PI/2)}function D(e){return Math.pow(2,10*(e-1))}function P(e){return 1-Math.sqrt(1-e*e)}function H(e,t){var n;return arguments.length<2&&(t=.45),arguments.length<1?(e=1,n=t/4):n=t/(2*Math.PI)*Math.asin(1/e),function(r){return 1+e*Math.pow(2,10*-r)*Math.sin((r-n)*2*Math.PI/t)}}function B(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function j(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function F(){d3.event.stopPropagation(),d3.event.preventDefault()}function q(e){return e=="transform"?d3.interpolateTransform:d3.interpolate}function R(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function U(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function z(e,t,n){return new W(e,t,n)}function W(e,t,n){this.r=e,this.g=t,this.b=n}function X(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function V(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split(",");switch(o[1]){case"hsl":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(J(u[0]),J(u[1]),J(u[2]))}}return(a=K[e])?t(a.r,a.g,a.b):(e!=null&&e.charAt(0)==="#"&&(e.length===4?(r=e.charAt(1),r+=r,i=e.charAt(2),i+=i,s=e.charAt(3),s+=s):e.length===7&&(r=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7)),r=parseInt(r,16),i=parseInt(i,16),s=parseInt(s,16)),t(r,i,s))}function $(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;return s?(u=a<.5?s/(i+r):s/(2-i-r),e==i?o=(t-n)/s+(t<n?6:0):t==i?o=(n-e)/s+2:o=(e-t)/s+4,o*=60):u=o=0,G(o,u,a)}function J(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function G(e,t,n){return new Y(e,t,n)}function Y(e,t,n){this.h=e,this.s=t,this.l=n}function Z(e,t,n){function s(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(s(e)*255)}var r,i;return e%=360,e<0&&(e+=360),t=t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i,z(o(e+120),o(e),o(e-120))}function et(e){return u(e,rt),e}function it(e){return function(){return tt(e,this)}}function st(e){return function(){return nt(e,this)}}function ut(e,t){function s(){if(t=this.classList)return t.add(e);var t=this.className,r=t.baseVal!=null,i=r?t.baseVal:t;n.lastIndex=0,n.test(i)||(i=h(i+" "+e),r?t.baseVal=i:this.className=i)}function o(){if(t=this.classList)return t.remove(e);var t=this.className,r=t.baseVal!=null,i=r?t.baseVal:t;i=h(i.replace(n," ")),r?t.baseVal=i:this.className=i}function u(){(t.apply(this,arguments)?s:o).call(this)}var n=new RegExp("(^|\\s+)"+d3.requote(e)+"(\\s+|$)","g");if(arguments.length<2){var r=this.node();if(i=r.classList)return i.contains(e);var i=r.className;return n.lastIndex=0,n.test(i.baseVal!=null?i.baseVal:i)}return this.each(typeof t=="function"?u:t?s:o)}function at(e){return{__data__:e}}function ft(e){return arguments.length||(e=d3.ascending),function(t,n){return e(t&&t.__data__,n&&n.__data__)}}function ct(e){return u(e,ht),e}function pt(e,t,n){u(e,gt);var r={},i=d3.dispatch("start","end"),s=wt;return e.id=t,e.time=n,e.tween=function(t,n){return arguments.length<2?r[t]:(n==null?delete r[t]:r[t]=n,e)},e.ease=function(t){return arguments.length?(s=typeof t=="function"?t:d3.ease.apply(d3,arguments),e):s},e.each=function(t,n){return arguments.length<2?Et.call(e,t):(i.on(t,n),e)},d3.timer(function(o){return e.each(function(u,a,f){function v(e){if(d.active>t)return g();d.active=t;for(var s in r)(s=r[s].call(c,u,a))&&l.push(s);return i.start.call(c,u,a),m(e)||d3.timer(m,0,n),1}function m(e){if(d.active!==t)return g();var n=(e-h)/p,r=s(n),o=l.length;while(o>0)l[--o].call(c,r);if(n>=1)return g(),bt=t,i.end.call(c,u,a),bt=0,1}function g(){return--d.count||delete c.__transition__,1}var l=[],c=this,h=e[f][a].delay,p=e[f][a].duration,d=c.__transition__||(c.__transition__={active:0,count:0});++d.count,h<=o?v(o):d3.timer(v,h,n)}),1},0,n),e}function vt(e,t,n){return n!=""&&dt}function mt(e,t){function r(e,r,i){var s=t.call(this,e,r);return s==null?i!=""&&dt:i!=s&&n(i,s)}function i(e,r,i){return i!=t&&n(i,t)}var n=q(e);return typeof t=="function"?r:t==null?vt:(t+="",i)}function Et(e){for(var t=0,n=this.length;t<n;t++)for(var r=this[t],i=0,s=r.length;i<s;i++){var o=r[i];o&&e.call(o=o.node,o.__data__,i,t)}return this}function Nt(){var e,t=Date.now(),n=St;while(n)e=t-n.then,e>=n.delay&&(n.flush=n.callback(e)),n=n.next;var r=Ct()-t;r>24?(isFinite(r)&&(clearTimeout(Tt),Tt=setTimeout(Nt,r)),xt=0):(xt=1,kt(Nt))}function Ct(){var e=null,t=St,n=Infinity;while(t)t.flush?t=e?e.next=t.next:St=t.next:(n=Math.min(n,t.then+t.delay),t=(e=t).next);return n}function Lt(e){var t=[e.a,e.b],n=[e.c,e.d],r=Ot(t),i=At(t,n),s=Ot(Mt(n,t,-i));this.translate=[e.e,e.f],this.rotate=Math.atan2(e.b,e.a)*Dt,this.scale=[r,s||0],this.skew=s?i/s*Dt:0}function At(e,t){return e[0]*t[0]+e[1]*t[1]}function Ot(e){var t=Math.sqrt(At(e,e));return e[0]/=t,e[1]/=t,t}function Mt(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Pt(){}function Ht(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Bt(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;s<i&&(o=n,n=r,r=o,o=i,i=s,s=o);if(o=s-i)t=t(o),e[n]=t.floor(i),e[r]=t.ceil(s);return e}function jt(){return Math}function Ft(e,t,n,r){function o(){var o=e.length==2?Wt:Xt,a=r?U:R;return i=o(e,t,a,n),s=o(t,e,a,d3.interpolate),u}function u(e){return i(e)}var i,s;return u.invert=function(e){return s(e)},u.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},u.range=function(e){return arguments.length?(t=e,o()):t},u.rangeRound=function(e){return u.range(e).interpolate(d3.interpolateRound)},u.clamp=function(e){return arguments.length?(r=e,o()):r},u.interpolate=function(e){return arguments.length?(n=e,o()):n},u.ticks=function(t){return Ut(e,t)},u.tickFormat=function(t){return zt(e,t)},u.nice=function(){return Bt(e,qt),o()},u.copy=function(){return Ft(e,t,n,r)},o()}function It(e,t){return e.range=d3.rebind(e,t.range),e.rangeRound=d3.rebind(e,t.rangeRound),e.interpolate=d3.rebind(e,t.interpolate),e.clamp=d3.rebind(e,t.clamp),e}function qt(e){return e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1),{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function Rt(e,t){var n=Ht(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function Ut(e,t){return d3.range.apply(d3,Rt(e,t))}function zt(e,t){return d3.format(",."+Math.max(0,-Math.floor(Math.log(Rt(e,t)[2])/Math.LN10+.01))+"f")}function Wt(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function Xt(e,t,n,r){var i=[],s=[],o=0,u=e.length;while(++o<u)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=d3.bisect(e,t,1,e.length-1)-1;return s[n](i[n](t))}}function Vt(e,t){function r(n){return e(t(n))}var n=t.pow;return r.invert=function(t){return n(e.invert(t))},r.domain=function(i){return arguments.length?(t=i[0]<0?Kt:Jt,n=t.pow,e.domain(i.map(t)),r):e.domain().map(n)},r.nice=function(){return e.domain(Bt(e.domain(),jt)),r},r.ticks=function(){var r=Ht(e.domain()),i=[];if(r.every(isFinite)){var s=Math.floor(r[0]),o=Math.ceil(r[1]),u=n(r[0]),a=n(r[1]);if(t===Kt){i.push(n(s));for(;s++<o;)for(var f=9;f>0;f--)i.push(n(s)*f)}else{for(;s<o;s++)for(var f=1;f<10;f++)i.push(n(s)*f);i.push(n(s))}for(s=0;i[s]<u;s++);for(o=i.length;i[o-1]>a;o--);i=i.slice(s,o)}return i},r.tickFormat=function(e,i){arguments.length<2&&(i=$t);if(arguments.length<1)return i;var s=e/r.ticks().length,o=t===Kt?(u=-1e-15,Math.floor):(u=1e-15,Math.ceil),u;return function(e){return e/n(o(t(e)+u))<s?i(e):""}},r.copy=function(){return Vt(e.copy(),t)},It(r,e)}function Jt(e){return Math.log(e)/Math.LN10}function Kt(e){return-Math.log(-e)/Math.LN10}function Qt(e,t){function i(t){return e(n(t))}var n=Gt(t),r=Gt(1/t);return i.invert=function(t){return r(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t.map(n)),i):e.domain().map(r)},i.ticks=function(e){return Ut(i.domain(),e)},i.tickFormat=function(e){return zt(i.domain(),e)},i.nice=function(){return i.domain(Bt(i.domain(),qt))},i.exponent=function(e){if(!arguments.length)return t;var s=i.domain();return n=Gt(t=e),r=Gt(1/t),i.domain(s)},i.copy=function(){return Qt(e.copy(),t)},It(i,e)}function Gt(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yt(e,t){function s(t){return r[((n[t]||(n[t]=e.push(t)))-1)%r.length]}function o(t,n){return d3.range(e.length).map(function(e){return t+n*e})}var n,r,i;return s.domain=function(r){if(!arguments.length)return e;e=[],n={};var i=-1,o=r.length,u;while(++i<o)n[u=r[i]]||(n[u]=e.push(u));return s[t.t](t.x,t.p)},s.range=function(e){return arguments.length?(r=e,i=0,t={t:"range",x:e},s):r},s.rangePoints=function(n,u){arguments.length<2&&(u=0);var a=n[0],f=n[1],l=(f-a)/(e.length-1+u);return r=o(e.length<2?(a+f)/2:a+l*u/2,l),i=0,t={t:"rangePoints",x:n,p:u},s},s.rangeBands=function(n,u){arguments.length<2&&(u=0);var a=n[0],f=n[1],l=(f-a)/(e.length+u);return r=o(a+l*u,l),i=l*(1-u),t={t:"rangeBands",x:n,p:u},s},s.rangeRoundBands=function(n,u){arguments.length<2&&(u=0);var a=n[0],f=n[1],l=Math.floor((f-a)/(e.length+u));return r=o(a+Math.round((f-a-(e.length-u)*l)/2),l),i=Math.round(l*(1-u)),t={t:"rangeRoundBands",x:n,p:u},s},s.rangeBand=function(){return i},s.copy=function(){return Yt(e,t)},s.domain(e)}function rn(e,t){function r(){var r=0,s=e.length,o=t.length;n=[];while(++r<o)n[r-1]=d3.quantile(e,r/o);return i}function i(e){return isNaN(e=+e)?NaN:t[d3.bisect(n,e)]}var n;return i.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(d3.ascending),r()):e},i.range=function(e){return arguments.length?(t=e,r()):t},i.quantiles=function(){return n},i.copy=function(){return rn(e,t)},r()}function sn(e,t,n){function s(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,s}var r,i;return s.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},s.range=function(e){return arguments.length?(n=e,o()):n},s.copy=function(){return sn(e,t,n)},o()}function an(e){return e.innerRadius}function fn(e){return e.outerRadius}function ln(e){return e.startAngle}function cn(e){return e.endAngle}function hn(e){function o(r){return r.length<1?null:"M"+i(e(pn(this,r,t,n)),s)}var t=dn,n=vn,r="linear",i=mn[r],s=.7;return o.x=function(e){return arguments.length?(t=e,o):t},o.y=function(e){return arguments.length?(n=e,o):n},o.interpolate=function(e){return arguments.length?(i=mn[r=e],o):r},o.tension=function(e){return arguments.length?(s=e,o):s},o}function pn(e,t,n,r){var i=[],s=-1,o=t.length,u=typeof n=="function",a=typeof r=="function",f;if(u&&a)while(++s<o)i.push([n.call(e,f=t[s],s),r.call(e,f,s)]);else if(u)while(++s<o)i.push([n.call(e,t[s],s),r]);else if(a)while(++s<o)i.push([n,r.call(e,t[s],s)]);else while(++s<o)i.push([n,r]);return i}function dn(e){return e[0]}function vn(e){return e[1]}function gn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("L",(r=e[t])[0],",",r[1]);return i.join("")}function yn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function bn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function wn(e,t){return e.length<4?gn(e):e[1]+xn(e.slice(1,e.length-1),Tn(e,t))}function En(e,t){return e.length<3?gn(e):e[0]+xn((e.push(e[0]),e),Tn([e[e.length-2]].concat(e,[e[1]]),t))}function Sn(e,t,n){return e.length<3?gn(e):e[0]+xn(e,Tn(e,t))}function xn(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return gn(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;n&&(r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1],i=e[1],a=2);if(t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function Tn(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a)i=s,s=o,o=e[u],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function Nn(e){if(e.length<3)return gn(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s];Dn(a,o,u);while(++t<n)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Dn(a,o,u);t=-1;while(++t<2)o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Dn(a,o,u);return a.join("")}function Cn(e){if(e.length<4)return gn(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3)i=e[n],s.push(i[0]),o.push(i[1]);t.push(An(_n,s)+","+An(_n,o)),--n;while(++n<r)i=e[n],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),Dn(t,s,o);return t.join("")}function kn(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4)s=e[n%r],o.push(s[0]),u.push(s[1]);t=[An(_n,o),",",An(_n,u)],--n;while(++n<i)s=e[n%r],o.shift(),o.push(s[0]),u.shift(),u.push(s[1]),Dn(t,o,u);return t.join("")}function Ln(e,t){var n=e.length-1,r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n)a=e[u],f=u/n,a[0]=t*a[0]+(1-t)*(r+f*s),a[1]=t*a[1]+(1-t)*(i+f*o);return Nn(e)}function An(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Dn(e,t,n){e.push("C",An(On,t),",",An(On,n),",",An(Mn,t),",",An(Mn,n),",",An(_n,t),",",An(_n,n))}function Pn(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Hn(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=Pn(i,s);while(++t<n)r[t]=o+(o=Pn(i=s,s=e[t+1]));return r[t]=o,r}function Bn(e){var t=[],n,r,i,s,o=Hn(e),u=-1,a=e.length-1;while(++u<a)n=Pn(e[u],e[u+1]),Math.abs(n)<1e-6?o[u]=o[u+1]=0:(r=o[u]/n,i=o[u+1]/n,s=r*r+i*i,s>9&&(s=n*3/Math.sqrt(s),o[u]=s*r,o[u+1]=s*i));u=-1;while(++u<=a)s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),t.push([s||0,o[u]*s||0]);return t}function jn(e){return e.length<3?gn(e):e[0]+xn(e,Bn(e))}function Fn(e){var t,n=-1,r=e.length,i,s;while(++n<r)t=e[n],i=t[0],s=t[1]+on,t[0]=i*Math.cos(s),t[1]=i*Math.sin(s);return e}function In(e){function f(s){if(s.length<1)return null;var f=pn(this,s,t,r),l=pn(this,s,t===n?qn(f):n,r===i?Rn(f):i);return"M"+o(e(l),a)+"L"+u(e(f.reverse()),a)+"Z"}var t=dn,n=dn,r=0,i=vn,s,o,u,a=.7;return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=i=e,f):i},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(i=e,f):i},f.interpolate=function(e){return arguments.length?(o=mn[s=e],u=o.reverse||o,f):s},f.tension=function(e){return arguments.length?(a=e,f):a},f.interpolate("linear")}function qn(e){return function(t,n){return e[n][0]}}function Rn(e){return function(t,n){return e[n][1]}}function Un(e){return e.source}function zn(e){return e.target}function Wn(e){return e.radius}function Xn(e){return e.startAngle}function Vn(e){return e.endAngle}function $n(e){return[e.x,e.y]}function Jn(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+on;return[n*Math.cos(r),n*Math.sin(r)]}}function Qn(e,t){var n=(e.ownerSVGElement||e).createSVGPoint();if(Kn<0&&(window.scrollX||window.scrollY)){var r=d3.select(document.body).append("svg:svg").style("position","absolute").style("top",0).style("left",0),i=r[0][0].getScreenCTM();Kn=!i.f&&!i.e,r.remove()}return Kn?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX,n.y=t.clientY),n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}function Gn(){return 64}function Yn(){return"circle"}function nr(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function rr(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function ir(e,t,n){i=[];if(n&&t.length>1){var r=Ht(e.domain()),i,s=-1,o=t.length,u=(t[1]-t[0])/++n,a,f;while(++s<o)for(a=n;--a>0;)(f=+t[s]-a*u)>=r[0]&&i.push(f);for(--s,a=0;++a<n&&(f=+t[s]+a*u)<r[1];)i.push(f)}return i}function vr(e,t){e.select(".extent").attr("x",t[0][0]),e.selectAll(".n,.s,.w,.nw,.sw").attr("x",t[0][0]-2),e.selectAll(".e,.ne,.se").attr("x",t[1][0]-3),e.selectAll(".extent,.n,.s").attr("width",t[1][0]-t[0][0])}function mr(e,t){e.select(".extent").attr("y",t[0][1]),e.selectAll(".n,.e,.w,.nw,.ne").attr("y",t[0][1]-3),e.selectAll(".s,.se,.sw").attr("y",t[1][1]-4),e.selectAll(".extent,.e,.w").attr("height",t[1][1]-t[0][1])}function gr(){d3.event.keyCode==32&&ur&&!cr&&(pr=null,dr[0]-=lr[1][0],dr[1]-=lr[1][1],cr=2,F())}function yr(){d3.event.keyCode==32&&cr==2&&(dr[0]+=lr[1][0],dr[1]+=lr[1][1],cr=0,F())}function br(){if(dr){var e=d3.svg.mouse(ur),t=d3.select(ur);cr||(d3.event.altKey?(pr||(pr=[(lr[0][0]+lr[1][0])/2,(lr[0][1]+lr[1][1])/2]),dr[0]=lr[+(e[0]<pr[0])][0],dr[1]=lr[+(e[1]<pr[1])][1]):pr=null),ar&&(wr(e,ar,0),vr(t,lr)),fr&&(wr(e,fr,1),mr(t,lr)),or("brush")}}function wr(e,t,n){var r=Ht(t.range()),i=dr[n],s=lr[1][n]-lr[0][n],o,u;cr&&(r[0]-=i,r[1]-=s+i),o=Math.max(r[0],Math.min(r[1],e[n])),cr?u=(o+=i)+s:(pr&&(i=Math.max(r[0],Math.min(r[1],2*pr[n]-o))),i<o?(u=o,o=i):u=i),lr[0][n]=o,lr[1][n]=u}function Er(){dr&&(br(),d3.select(ur).selectAll(".resize").style("pointer-events",sr.empty()?"none":"all"),or("brushend"),sr=or=ur=ar=fr=lr=cr=hr=pr=dr=null,F())}function Or(e){var t=Mr(),n=d3.event,r=d3.event={type:e};t&&(r.x=t[0]+kr[0],r.y=t[1]+kr[1],r.dx=t[0]-Lr[0],r.dy=t[1]-Lr[1],Ar|=r.dx|r.dy,Lr=t);try{xr[e].apply(Nr,Cr)}finally{d3.event=n}n.stopPropagation(),n.preventDefault()}function Mr(){var e=Nr.parentNode,t=d3.event.changedTouches;return e&&(t?d3.svg.touches(e,t)[0]:d3.svg.mouse(e))}function _r(){if(!Nr)return;var e=Nr.parentNode;if(!e)return Dr();Or("drag"),F()}function Dr(){if(!Nr)return;Or("dragend"),Ar&&(F(),Ar=d3.event.target===Tr),xr=Tr=Nr=Cr=kr=Lr=null}function Pr(){Ar&&(F(),Ar=0)}function $r(e){return[e[0]-qr[0],e[1]-qr[1],qr[2]]}function Jr(){Hr||(Hr=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var e=d3.event,t;try{Hr.scrollTop=1e3,Hr.dispatchEvent(e),t=1e3-Hr.scrollTop}catch(n){t=e.wheelDelta||-e.detail*5}return t*.005}function Kr(){var e=d3.svg.touches(Wr),t=-1,n=e.length,r;while(++t<n)Fr[(r=e[t]).identifier]=$r(r);return e}function Qr(){var e=d3.svg.touches(Wr);switch(e.length){case 1:var t=e[0];ei(qr[2],t,Fr[t.identifier]);break;case 2:var n=e[0],r=e[1],i=[(n[0]+r[0])/2,(n[1]+r[1])/2],s=Fr[n.identifier],o=Fr[r.identifier],u=[(s[0]+o[0])/2,(s[1]+o[1])/2,s[2]];ei(Math.log(d3.event.scale)/Math.LN2+s[2],i,u)}}function Gr(){jr=null,Br&&(Vr=1,ei(qr[2],d3.svg.mouse(Wr),Br))}function Yr(){Br&&(Vr&&(F(),Vr=zr===d3.event.target),qr=Rr=Ur=zr=Wr=Xr=Br=null)}function Zr(){Vr&&(F(),Vr=0)}function ei(e,t,n){function c(e,t,n){e.domain(e.range().map(function(s){return e.invert((s-n)*r/i+t)}))}e=ni(e,2);var r=Math.pow(2,qr[2]),i=Math.pow(2,e),s=Math.pow(2,(qr[2]=e)-n[2]),o=qr[0],u=qr[1],a=qr[0]=ni(t[0]-n[0]*s,0,i),f=qr[1]=ni(t[1]-n[1]*s,1,i),l=d3.event;d3.event={scale:i,translate:[a,f],transform:function(e,t){e&&c(e,o,a),t&&c(t,u,f)}};try{Ur.apply(Wr,Xr)}finally{d3.event=l}l.preventDefault()}function ni(e,t,n){var r=Rr[t],i=r[0],s=r[1];return arguments.length===3?Math.max(s*(s===Infinity?-Infinity:1/n-1),Math.min(i===-Infinity?Infinity:i,e/n))*n:Math.max(i,Math.min(s,e))}Date.now||(Date.now=function(){return+(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(e){var t=CSSStyleDeclaration.prototype,n=t.setProperty;t.setProperty=function(e,t,r){n.call(this,e,t+"",r)}}d3={version:"2.5.0"};var r=s;try{r(document.documentElement.childNodes)[0].nodeType}catch(o){r=i}var u=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};d3.functor=function(e){return typeof e=="function"?e:function(){return e}},d3.rebind=function(e,t){return function(){var n=t.apply(e,arguments);return arguments.length?e:n}},d3.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},d3.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d3.mean=function(e,t){var n=e.length,r,i=0,s=-1,o=0;if(arguments.length===1)while(++s<n)f(r=e[s])&&(i+=(r-i)/++o);else while(++s<n)f(r=t.call(e,e[s],s))&&(i+=(r-i)/++o);return o?i:undefined},d3.median=function(e,t){return arguments.length>1&&(e=e.map(t)),e=e.filter(f),e.length?d3.quantile(e.sort(d3.ascending),.5):undefined},d3.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&i>s&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&i>s&&(i=s)}return i},d3.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&s>i&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&s>i&&(i=s)}return i},d3.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&((i=o=e[n])==null||i!=i))i=o=undefined;while(++n<r)(s=e[n])!=null&&(i>s&&(i=s),o<s&&(o=s))}else{while(++n<r&&((i=o=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&(i>s&&(i=s),o<s&&(o=s))}return[i,o]},d3.random={normal:function(e,t){return arguments.length<2&&(t=1),arguments.length<1&&(e=0),function(){var n,r,i;do n=Math.random()*2-1,r=Math.random()*2-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}}},d3.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1)while(++s<r)isNaN(i=+e[s])||(n+=i);else while(++s<r)isNaN(i=+t.call(e,e[s],s))||(n+=i);return n},d3.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=e[r-1],s=n-r;return s?i+s*(e[r]-i):i},d3.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=d3.min(arguments,l),n=new Array(t);++e<t;)for(var r=-1,i,s=n[e]=new Array(i);++r<i;)s[r]=arguments[r][e];return n},d3.bisectLeft=function(e,t,n,r){arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);while(n<r){var i=n+r>>1;e[i]<t?n=i+1:r=i}return n},d3.bisect=d3.bisectRight=function(e,t,n,r){arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);while(n<r){var i=n+r>>1;t<e[i]?r=i:n=i+1}return n},d3.first=function(e,t){var n=0,r=e.length,i=e[0],s;arguments.length===1&&(t=d3.ascending);while(++n<r)t.call(e,i,s=e[n])>0&&(i=s);return i},d3.last=function(e,t){var n=0,r=e.length,i=e[0],s;arguments.length===1&&(t=d3.ascending);while(++n<r)t.call(e,i,s=e[n])<=0&&(i=s);return i},d3.nest=function(){function s(n,o){if(o>=t.length)return i?i.call(e,n):r?n.sort(r):n;var u=-1,a=n.length,f=t[o++],l,c,h={};while(++u<a)(l=f(c=n[u]))in h?h[l].push(c):h[l]=[c];for(l in h)h[l]=s(h[l],o);return h}function o(e,r){if(r>=t.length)return e;var i=[],s=n[r++],u;for(u in e)i.push({key:u,values:o(e[u],r)});return s&&i.sort(function(e,t){return s(e.key,t.key)}),i}var e={},t=[],n=[],r,i;return e.map=function(e){return s(e,0)},e.entries=function(e){return o(s(e,0),0)},e.key=function(n){return t.push(n),e},e.sortKeys=function(r){return n[t.length-1]=r,e},e.sortValues=function(t){return r=t,e},e.rollup=function(t){return i=t,e},e},d3.keys=function(e){var t=[];for(var n in e)t.push(n);return t},d3.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},d3.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},d3.permute=function(e,t){var n=[],r=-1,i=t.length;while(++r<i)n[r]=e[t[r]];return n},d3.merge=function(e){return Array.prototype.concat.apply([],e)},d3.split=function(e,t){var n=[],r=[],i,s=-1,o=e.length;arguments.length<2&&(t=c);while(++s<o)t.call(r,i=e[s],s)?r=[]:(r.length||n.push(r),r.push(i));return n},d3.range=function(e,t,n){arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0));if((t-e)/n==Infinity)throw new Error("infinite range");var r=[],i=-1,s;if(n<0)while((s=e+n*++i)>t)r.push(s);else while((s=e+n*++i)<t)r.push(s);return r},d3.requote=function(e){return e.replace(p,"\\$&")};var p=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,t){return t?Math.round(e*Math.pow(10,t))*Math.pow(10,-t):Math.round(e)},d3.xhr=function(e,t,n){var r=new XMLHttpRequest;arguments.length<3?n=t:t&&r.overrideMimeType&&r.overrideMimeType(t),r.open("GET",e,!0),r.onreadystatechange=function(){r.readyState===4&&n(r.status<300?r:null)},r.send(null)},d3.text=function(e,t,n){function r(e){n(e&&e.responseText)}arguments.length<3&&(n=t,t=null),d3.xhr(e,t,r)},d3.json=function(e,t){d3.text(e,"application/json",function(e){t(e?JSON.parse(e):null)})},d3.html=function(e,t){d3.text(e,"text/html",function(e){if(e!=null){var n=document.createRange();n.selectNode(document.body),e=n.createContextualFragment(e)}t(e)})},d3.xml=function(e,t,n){function r(e){n(e&&e.responseXML)}arguments.length<3&&(n=t,t=null),d3.xhr(e,t,r)},d3.ns={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qualify:function(e){var t=e.indexOf(":");return t<0?e:{space:d3.ns.prefix[e.substring(0,t)],local:e.substring(t+1)}}},d3.dispatch=function(){var e=new d,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=v();return e},d.prototype.on=function(e,t){var n=e.indexOf("."),r="";n>0&&(r=e.substring(n+1),e=e.substring(0,n)),this[e].on(r,t)},d3.format=function(e){var t=m.exec(e),n=t[1]||" ",r=t[3]||"",i=t[5],s=+t[6],o=t[7],u=t[8],a=t[9],f=1,l="",c=!1;u&&(u=+u.substring(1)),i&&(n="0",o&&(s-=Math.floor((s-1)/4)));switch(a){case"n":o=!0,a="g";break;case"%":f=100,l="%",a="f";break;case"p":f=100,l="%",a="r";break;case"d":c=!0,u=0;break;case"s":f=-1,a="r"}return a=="r"&&!u&&(a="g"),a=g[a]||b,function(e){if(c&&e%1)return"";var t=e<0&&(e=-e)?"\u2212":r;if(f<0){var h=d3.formatPrefix(e,u);e*=h.scale,l=h.symbol}else e*=f;e=a(e,u);if(i){var p=e.length+t.length;p<s&&(e=(new Array(s-p+1)).join(n)+e),o&&(e=w(e)),e=t+e}else{o&&(e=w(e)),e=t+e;var p=e.length;p<s&&(e=(new Array(s-p+1)).join(n)+e)}return e+l}};var m=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,g={g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return d3.round(e,t=y(e,t)).toFixed(Math.max(0,Math.min(20,t)))}},E=["y","z","a","f","p","n","\u03bc","m","","k","M","G","T","P","E","Z","Y"].map(S);d3.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=d3.round(e,y(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,Math.floor((n<=0?n+1:n-1)/3)*3))),E[8+n/3]};var x=M(2),T=M(3),N={linear:function(){return O},poly:M,quad:function(){return x},cubic:function(){return T},sin:function(){return _},exp:function(){return D},circle:function(){return P},elastic:H,back:B,bounce:function(){return j}},C={"in":function(e){return e},out:L,"in-out":A,"out-in":function(e){return A(L(e))}};d3.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return k(C[r](N[n].apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(e,t){var n=d3.interpolators.length,r;while(--n>=0&&!(r=d3.interpolators[n](e,t)));return r},d3.interpolateNumber=function(e,t){return t-=e,function(n){return e+t*n}},d3.interpolateRound=function(e,t){return t-=e,function(n){return Math.round(e+t*n)}},d3.interpolateString=function(e,t){var n,r,i,s=0,o=0,u=[],a=[],f,l;I.lastIndex=0;for(r=0;n=I.exec(t);++r)n.index&&u.push(t.substring(s,o=n.index)),a.push({i:u.length,x:n[0]}),u.push(null),s=I.lastIndex;s<t.length&&u.push(t.substring(s));for(r=0,f=a.length;(n=I.exec(e))&&r<f;++r){l=a[r];if(l.x==n[0]){if(l.i)if(u[l.i+1]==null){u[l.i-1]+=l.x,u.splice(l.i,1);for(i=r+1;i<f;++i)a[i].i--}else{u[l.i-1]+=l.x+u[l.i+1],u.splice(l.i,2);for(i=r+1;i<f;++i)a[i].i-=2}else if(u[l.i+1]==null)u[l.i]=l.x;else{u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1);for(i=r+1;i<f;++i)a[i].i--}a.splice(r,1),f--,r--}else l.x=d3.interpolateNumber(parseFloat(n[0]),parseFloat(l.x))}while(r<f)l=a.pop(),u[l.i+1]==null?u[l.i]=l.x:(u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1)),f--;return u.length===1?u[0]==null?a[0].x:function(){return t}:function(e){for(r=0;r<f;++r)u[(l=a[r]).i]=l.x(e);return u.join("")}},d3.interpolateTransform=function(e,t){return d3.interpolateString(d3.transform(e)+"",d3.transform(t)+"")},d3.interpolateRgb=function(e,t){e=d3.rgb(e),t=d3.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+X(Math.round(n+s*e))+X(Math.round(r+o*e))+X(Math.round(i+u*e))}},d3.interpolateHsl=function(e,t){e=d3.hsl(e),t=d3.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return function(e){return Z(n+s*e,r+o*e,i+u*e).toString()}},d3.interpolateArray=function(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(d3.interpolate(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}},d3.interpolateObject=function(e,t){var n={},r={},i;for(i in e)i in t?n[i]=q(i)(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}};var I=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(e,t){return t instanceof Array&&d3.interpolateArray(e,t)},function(e,t){return typeof t=="string"&&d3.interpolateString(e+"",t)},function(e,t){return(typeof t=="string"?t in K||/^(#|rgb\(|hsl\()/.test(t):t instanceof W||t instanceof Y)&&d3.interpolateRgb(e+"",t)},function(e,t){return typeof t=="number"&&d3.interpolateNumber(+e,t)}],d3.rgb=function(e,t,n){return arguments.length===1?e instanceof W?z(e.r,e.g,e.b):V(""+e,z,Z):z(~~e,~~t,~~n)},W.prototype.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return!t&&!n&&!r?z(i,i,i):(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),z(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e))))},W.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),z(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},W.prototype.hsl=function(){return $(this.r,this.g,this.b)},W.prototype.toString=function(){return"#"+X(this.r)+X(this.g)+X(this.b)};var K={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};for(var Q in K)K[Q]=V(K[Q],z,Z);d3.hsl=function(e,t,n){return arguments.length===1?e instanceof Y?G(e.h,e.s,e.l):V(""+e,$,G):G(+e,+t,+n)},Y.prototype.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),G(this.h,this.s,this.l/e)},Y.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),G(this.h,this.s,e*this.l)},Y.prototype.rgb=function(){return Z(this.h,this.s,this.l)},Y.prototype.toString=function(){return this.rgb().toString()};var tt=function(e,t){return t.querySelector(e)},nt=function(e,t){return t.querySelectorAll(e)};typeof Sizzle=="function"&&(tt=function(e,t){return Sizzle(e,t)[0]},nt=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))});var rt=[];d3.selection=function(){return lt},d3.selection.prototype=rt,rt.select=function(e){var t=[],n,r,i,s;typeof e!="function"&&(e=it(e));for(var o=-1,u=this.length;++o<u;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)(s=i[a])?(n.push(r=e.call(s,s.__data__,a)),r&&"__data__"in s&&(r.__data__=s.__data__)):n.push(null)}return et(t)},rt.selectAll=function(e){var t=[],n,i;typeof e!="function"&&(e=st(e));for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(i=u[a])t.push(n=r(e.call(i,i.__data__,a))),n.parentNode=i;return et(t)},rt.attr=function(e,t){function r(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function s(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function u(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}function a(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}e=d3.ns.qualify(e);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each(t==null?e.local?i:r:typeof t=="function"?e.local?a:u:e.local?o:s)},rt.classed=function(e,t){var n=e.split(ot),r=n.length,i=-1;if(arguments.length>1){while(++i<r)ut.call(this,n[i],t);return this}while(++i<r)if(!ut.call(this,n[i]))return!1;return!0};var ot=/\s+/g;rt.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return arguments.length<3&&(n=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(e):this.each(t==null?r:typeof t=="function"?s:i)},rt.property=function(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return arguments.length<2?this.node()[e]:this.each(t==null?n:typeof t=="function"?i:r)},rt.text=function(e){return arguments.length<1?this.node().textContent:this.each(typeof e=="function"?function(){this.textContent=e.apply(this,arguments)}:function(){this.textContent=e})},rt.html=function(e){return arguments.length<1?this.node().innerHTML:this.each(typeof e=="function"?function(){this.innerHTML=e.apply(this,arguments)}:function(){this.innerHTML=e})},rt.append=function(e){function t(){return this.appendChild(document.createElement(e))}function n(){return this.appendChild(document.createElementNS(e.space,e.local))}return e=d3.ns.qualify(e),this.select(e.local?n:t)},rt.insert=function(e,t){function n(){return this.insertBefore(document.createElement(e),tt(t,this))}function r(){return this.insertBefore(document.createElementNS(e.space,e.local),tt(t,this))}return e=d3.ns.qualify(e),this.select(e.local?r:n)},rt.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},rt.data=function(e,t){function s(e,s){var o,u=e.length,a=s.length,f=Math.min(u,a),l=Math.max(u,a),c=[],h=[],p=[],d,v;if(t){var m={},g=[],y,b=s.length;for(o=-1;++o<u;)y=t.call(d=e[o],d.__data__,o),y in m?p[b++]=d:m[y]=d,g.push(y);for(o=-1;++o<a;)d=m[y=t.call(s,v=s[o],o)],d?(d.__data__=v,c[o]=d,h[o]=p[o]=null):(h[o]=at(v),c[o]=p[o]=null),delete m[y];for(o=-1;++o<u;)g[o]in m&&(p[o]=e[o])}else{for(o=-1;++o<f;)d=e[o],v=s[o],d?(d.__data__=v,c[o]=d,h[o]=p[o]=null):(h[o]=at(v),c[o]=p[o]=null);for(;o<a;++o)h[o]=at(s[o]),c[o]=p[o]=null;for(;o<l;++o)p[o]=e[o],h[o]=c[o]=null}h.update=c,h.parentNode=c.parentNode=p.parentNode=e.parentNode,n.push(h),r.push(c),i.push(p)}var n=[],r=[],i=[],o=-1,u=this.length,a;if(typeof e=="function")while(++o<u)s(a=this[o],e.call(a,a.parentNode.__data__,o));else while(++o<u)s(a=this[o],e);var f=et(r);return f.enter=function(){return ct(n)},f.exit=function(){return et(i)},f},rt.filter=function(e){var t=[],n,r,i;for(var s=0,o=this.length;s<o;s++){t.push(n=[]),n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return et(t)},rt.map=function(e){return this.each(function(){this.__data__=e.apply(this,arguments)})},rt.sort=function(e){e=ft.apply(this,arguments);for(var t=0,n=this.length;t<n;t++)for(var r=this[t].sort(e),i=1,s=r.length,o=r[0];i<s;i++){var u=r[i];u&&(o&&o.parentNode.insertBefore(u,o.nextSibling),o=u)}return this},rt.on=function(e,t,n){arguments.length<3&&(n=!1);var r="__on"+e,i=e.indexOf(".");return i>0&&(e=e.substring(0,i)),arguments.length<2?(i=this.node()[r])&&i._:this.each(function(i,s){function u(e){var n=d3.event;d3.event=e;try{t.call(o,o.__data__,s)}finally{d3.event=n}}var o=this;o[r]&&o.removeEventListener(e,o[r],n),t&&o.addEventListener(e,o[r]=u,n),u._=t})},rt.each=function(e){for(var t=-1,n=this.length;++t<n;)for(var r=this[t],i=-1,s=r.length;++i<s;){var o=r[i];o&&e.call(o,o.__data__,i,t)}return this},rt.call=function(e){return e.apply(this,(arguments[0]=this,arguments)),this},rt.empty=function(){return!this.node()},rt.node=function(e){for(var t=0,n=this.length;t<n;t++)for(var r=this[t],i=0,s=r.length;i<s;i++){var o=r[i];if(o)return o}return null},rt.transition=function(){var e=[],t,n;for(var r=-1,i=this.length;++r<i;){e.push(t=[]);for(var s=this[r],o=-1,u=s.length;++o<u;)t.push((n=s[o])?{node:n,delay:0,duration:250}:null)}return pt(e,bt||++yt,Date.now())};var lt=et([[document]]);lt[0].parentNode=document.documentElement,d3.select=function(e){return typeof e=="string"?lt.select(e):et([[e]])},d3.selectAll=function(e){return typeof e=="string"?lt.selectAll(e):et([r(e)])};var ht=[];ht.append=rt.append,ht.insert=rt.insert,ht.empty=rt.empty,ht.node=rt.node,ht.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update,t.push(n=[]),n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)(o=s[f])?(n.push(i[f]=r=e.call(s.parentNode,o.__data__,f)),r.__data__=o.__data__):n.push(null)}return et(t)};var dt={},gt=[],yt=0,bt=0,wt=d3.ease("cubic-in-out");gt.call=rt.call,d3.transition=function(){return lt.transition()},d3.transition.prototype=gt,gt.select=function(e){var t=[],n,r,i;typeof e!="function"&&(e=it(e));for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(i=u[a])&&(r=e.call(i.node,i.node.__data__,a))?("__data__"in i.node&&(r.__data__=i.node.__data__),n.push({node:r,delay:i.delay,duration:i.duration})):n.push(null)}return pt(t,this.id,this.time).ease(this.ease())},gt.selectAll=function(e){var t=[],n,r,i;typeof e!="function"&&(e=st(e));for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(i=u[a]){r=e.call(i.node,i.node.__data__,a),t.push(n=[]);for(var l=-1,c=r.length;++l<c;)n.push({node:r[l],delay:i.delay,duration:i.duration})}return pt(t,this.id,this.time).ease(this.ease())},gt.attr=function(e,t){return this.attrTween(e,mt(e,t))},gt.attrTween=function(e,t){function r(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i===dt?(this.removeAttribute(n),null):i&&function(e){this.setAttribute(n,i(e))}}function i(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i===dt?(this.removeAttributeNS(n.space,n.local),null):i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}var n=d3.ns.qualify(e);return this.tween("attr."+e,n.local?i:r)},gt.style=function(e,t,n){return arguments.length<3&&(n=""),this.styleTween(e,mt(e,t),n)},gt.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,i){var s=t.call(this,r,i,window.getComputedStyle(this,null).getPropertyValue(e));return s===dt?(this.style.removeProperty(e),null):s&&function(t){this.style.setProperty(e,s(t),n)}})},gt.text=function(e){return this.tween("text",function(t,n){this.textContent=typeof e=="function"?e.call(this,t,n):e})},gt.remove=function(){return this.each("end",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},gt.delay=function(e){var t=this;return t.each(typeof e=="function"?function(n,r,i){t[i][r].delay=+e.apply(this,arguments)}:(e=+e,function(n,r,i){t[i][r].delay=e}))},gt.duration=function(e){var t=this;return t.each(typeof e=="function"?function(n,r,i){t[i][r].duration=+e.apply(this,arguments)}:(e=+e,function(n,r,i){t[i][r].duration=e}))},gt.transition=function(){return this.select(a)};var St=null,xt,Tt;d3.timer=function(e,t,n){var r=!1,i,s=St;if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}while(s){if(s.callback===e){s.then=n,s.delay=t,r=!0;break}i=s,s=s.next}r||(St={callback:e,then:n,delay:t,next:St}),xt||(Tt=clearTimeout(Tt),xt=1,kt(Nt))},d3.timer.flush=function(){var e,t=Date.now(),n=St;while(n)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;Ct()};var kt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};d3.transform=function(e){return _t.setAttribute("transform",e),new Lt(_t.transform.baseVal.consolidate().matrix)},Lt.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var _t=document.createElementNS(d3.ns.prefix.svg,"g"),Dt=180/Math.PI;d3.scale={},d3.scale.linear=function(){return Ft([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return Vt(d3.scale.linear(),Jt)};var $t=d3.format(".0e");Jt.pow=function(e){return Math.pow(10,e)},Kt.pow=function(e){return-Math.pow(10,-e)},d3.scale.pow=function(){return Qt(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return Yt([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(Zt)},d3.scale.category20=function(){return d3.scale.ordinal().range(en)},d3.scale.category20b=function(){return d3.scale.ordinal().range(tn)},d3.scale.category20c=function(){return d3.scale.ordinal().range(nn)};var Zt=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],en=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],tn=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],nn=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return rn([],[])},d3.scale.quantize=function(){return sn(0,1,[0,1])},d3.svg={},d3.svg.arc=function(){function i(){var i=e.apply(this,arguments),s=t.apply(this,arguments),o=n.apply(this,arguments)+on,u=r.apply(this,arguments)+on,a=(u<o&&(a=o,o=u,u=a),u-o),f=a<Math.PI?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return a>=un?i?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+ -i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":i?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+i*h+","+i*p+"A"+i+","+i+" 0 "+f+",0 "+i*l+","+i*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0"+"Z"}var e=an,t=fn,n=ln,r=cn;return i.innerRadius=function(t){return arguments.length?(e=d3.functor(t),i):e},i.outerRadius=function(e){return arguments.length?(t=d3.functor(e),i):t},i.startAngle=function(e){return arguments.length?(n=d3.functor(e),i):n},i.endAngle=function(e){return arguments.length?(r=d3.functor(e),i):r},i.centroid=function(){var i=(e.apply(this,arguments)+t.apply(this,arguments))/2,s=(n.apply(this,arguments)+r.apply(this,arguments))/2+on;return[Math.cos(s)*i,Math.sin(s)*i]},i};var on=-Math.PI/2,un=2*Math.PI-1e-6;d3.svg.line=function(){return hn(Object)};var mn={linear:gn,"step-before":yn,"step-after":bn,basis:Nn,"basis-open":Cn,"basis-closed":kn,bundle:Ln,cardinal:Sn,"cardinal-open":wn,"cardinal-closed":En,monotone:jn},On=[0,2/3,1/3,0],Mn=[0,1/3,2/3,0],_n=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var e=hn(Fn);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},yn.reverse=bn,bn.reverse=yn,d3.svg.area=function(){return In(Object)},d3.svg.area.radial=function(){var e=In(Fn);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},d3.svg.chord=function(){function s(n,r){var i=o(this,e,n,r),s=o(this,t,n,r);return"M"+i.p0+a(i.r,i.p1)+(u(i,s)?f(i.r,i.p1,i.r,i.p0):f(i.r,i.p1,s.r,s.p0)+a(s.r,s.p1)+f(s.r,s.p1,i.r,i.p0))+"Z"}function o(e,t,s,o){var u=t.call(e,s,o),a=n.call(e,u,o),f=r.call(e,u,o)+on,l=i.call(e,u,o)+on;return{r:a,a0:f,a1:l,p0:[a*Math.cos(f),a*Math.sin(f)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function u(e,t){return e.a0==t.a0&&e.a1==t.a1}function a(e,t){return"A"+e+","+e+" 0 0,1 "+t}function f(e,t,n,r){return"Q 0,0 "+r}var e=Un,t=zn,n=Wn,r=ln,i=cn;return s.radius=function(e){return arguments.length?(n=d3.functor(e),s):n},s.source=function(t){return arguments.length?(e=d3.functor(t),s):e},s.target=function(e){return arguments.length?(t=d3.functor(e),s):t},s.startAngle=function(e){return arguments.length?(r=d3.functor(e),s):r},s.endAngle=function(e){return arguments.length?(i=d3.functor(e),s):i},s},d3.svg.diagonal=function(){function r(r,i){var s=e.call(this,r,i),o=t.call(this,r,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(n),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var e=Un,t=zn,n=$n;return r.source=function(t){return arguments.length?(e=d3.functor(t),r):e},r.target=function(e){return arguments.length?(t=d3.functor(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},d3.svg.diagonal.radial=function(){var e=d3.svg.diagonal(),t=$n,n=e.projection;return e.projection=function(e){return arguments.length?n(Jn(t=e)):t},e},d3.svg.mouse=function(e){return Qn(e,d3.event)};var Kn=/WebKit/.test(navigator.userAgent)?-1:0;d3.svg.touches=function(e,t){return arguments.length<2&&(t=d3.event.touches),t?r(t).map(function(t){var n=Qn(e,t);return n.identifier=t.identifier,n}):[]},d3.svg.symbol=function(){function n(n,r){return(Zn[e.call(this,n,r)]||Zn.circle)(t.call(this,n,r))}var e=Yn,t=Gn;return n.type=function(t){return arguments.length?(e=d3.functor(t),n):e},n.size=function(e){return arguments.length?(t=d3.functor(e),n):t},n};var Zn={circle:function(e){var t=Math.sqrt(e/Math.PI);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"},cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*tr)),n=t*tr;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/er),n=t*er/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/er),n=t*er/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}};d3.svg.symbolTypes=d3.keys(Zn);var er=Math.sqrt(3),tr=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function f(f){f.each(function(l,c,h){var p=d3.select(this),d=f.delay?function(e){var t=bt;try{return bt=f.id,e.transition().delay(f[h][c].delay).duration(f[h][c].duration).ease(f.ease())}finally{bt=t}}:Object,v=e.ticks.apply(e,o),m=u==null?e.tickFormat.apply(e,o):u,g=ir(e,v,a),y=p.selectAll(".minor").data(g,String),b=y.enter().insert("svg:line","g").attr("class","tick minor").style("opacity",1e-6),w=d(y.exit()).style("opacity",1e-6).remove(),E=d(y).style("opacity",1),S=p.selectAll("g").data(v,String),x=S.enter().insert("svg:g","path").style("opacity",1e-6),T=d(S.exit()).style("opacity",1e-6).remove(),N=d(S).style("opacity",1),C,k=Ht(e.range()),L=p.selectAll(".domain").data([0]),A=L.enter().append("svg:path").attr("class","domain"),O=d(L),M=this.__chart__||e;this.__chart__=e.copy(),x.append("svg:line").attr("class","tick"),x.append("svg:text"),N.select("text").text(m);switch(t){case"bottom":C=nr,E.attr("x2",0).attr("y2",r),N.select("line").attr("x2",0).attr("y2",n),N.select("text").attr("x",0).attr("y",Math.max(n,0)+s).attr("dy",".71em").attr("text-anchor","middle"),O.attr("d","M"+k[0]+","+i+"V0H"+k[1]+"V"+i);break;case"top":C=nr,E.attr("x2",0).attr("y2",-r),N.select("line").attr("x2",0).attr("y2",-n),N.select("text").attr("x",0).attr("y",-(Math.max(n,0)+s)).attr("dy","0em").attr("text-anchor","middle"),O.attr("d","M"+k[0]+","+ -i+"V0H"+k[1]+"V"+ -i);break;case"left":C=rr,E.attr("x2",-r).attr("y2",0),N.select("line").attr("x2",-n).attr("y2",0),N.select("text").attr("x",-(Math.max(n,0)+s)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),O.attr("d","M"+ -i+","+k[0]+"H0V"+k[1]+"H"+ -i);break;case"right":C=rr,E.attr("x2",r).attr("y2",0),N.select("line").attr("x2",n).attr("y2",0),N.select("text").attr("x",Math.max(n,0)+s).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),O.attr("d","M"+i+","+k[0]+"H0V"+k[1]+"H"+i)}x.call(C,M),N.call(C,e),T.call(C,e),b.call(C,M),E.call(C,e),w.call(C,e)})}var e=d3.scale.linear(),t="bottom",n=6,r=6,i=6,s=3,o=[10],u,a=0;return f.scale=function(t){return arguments.length?(e=t,f):e},f.orient=function(e){return arguments.length?(t=e,f):t},f.ticks=function(){return arguments.length?(o=arguments,f):o},f.tickFormat=function(e){return arguments.length?(u=e,f):u},f.tickSize=function(e,t,s){if(!arguments.length)return n;var o=arguments.length-1;return n=+e,r=o>1?+t:n,i=o>0?+arguments[o]:n,f},f.tickPadding=function(e){return arguments.length?(s=+e,f):s},f.tickSubdivide=function(e){return arguments.length?(a=+e,f):a},f},d3.svg.brush=function(){function i(e){var o=t&&n?["n","e","s","w","nw","ne","se","sw"]:t?["e","w"]:n?["n","s"]:[];e.each(function(){var e=d3.select(this).on("mousedown.brush",s),u=e.selectAll(".background").data([,]),a=e.selectAll(".extent").data([,]),f=e.selectAll(".resize").data(o,String),l;u.enter().append("svg:rect").attr("class","background").style("visibility","hidden").style("pointer-events","all").style("cursor","crosshair"),a.enter().append("svg:rect").attr("class","extent").style("cursor","move"),f.enter().append("svg:rect").attr("class",function(e){return"resize "+e}).attr("width",6).attr("height",6).style("visibility","hidden").style("pointer-events",i.empty()?"none":"all").style("cursor",function(e){return Sr[e]}),f.exit().remove(),t&&(l=Ht(t.range()),u.attr("x",l[0]).attr("width",l[1]-l[0]),vr(e,r)),n&&(l=Ht(n.range()),u.attr("y",l[0]).attr("height",l[1]-l[0]),mr(e,r))})}function s(){var e=d3.select(d3.event.target);sr=i,ur=this,lr=r,dr=d3.svg.mouse(ur),(cr=e.classed("extent"))?(dr[0]=r[0][0]-dr[0],dr[1]=r[0][1]-dr[1]):e.classed("resize")?(hr=d3.event.target.__data__,dr[0]=r[+/w$/.test(hr)][0],dr[1]=r[+/^n/.test(hr)][1]):d3.event.altKey&&(pr=dr.slice()),ar=!/^(n|s)$/.test(hr)&&t,fr=!/^(e|w)$/.test(hr)&&n,or=o(this,arguments),or("brushstart"),br(),F()}function o(t,n){return function(r){var s=d3.event;try{d3.event={type:r,target:i},e[r].apply(t,n)}finally{d3.event=s}}}var e=d3.dispatch("brushstart","brush","brushend"),t,n,r=[[0,0],[0,0]];return i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(e){return arguments.length?(n=e,i):n},i.extent=function(e){var s,o,u,a,f;return arguments.length?(t&&(s=e[0],o=e[1],n&&(s=s[0],o=o[0]),s=t(s),o=t(o),o<s&&(f=s,s=o,o=f),r[0][0]=s,r[1][0]=o),n&&(u=e[0],a=e[1],t&&(u=u[1],a=a[1]),u=n(u),a=n(a),a<u&&(f=u,u=a,a=f),r[0][1]=u,r[1][1]=a),i):(t&&(s=t.invert(r[0][0]),o=t.invert(r[1][0]),o<s&&(f=s,s=o,o=f)),n&&(u=n.invert(r[0][1]),a=n.invert(r[1][1]),a<u&&(f=u,u=a,a=f)),t&&n?[[s,u],[o,a]]:t?[s,o]:n&&[u,a])},i.clear=function(){return r[0][0]=r[0][1]=r[1][0]=r[1][1]=0,i},i.empty=function(){return t&&r[0][0]===r[1][0]||n&&r[0][1]===r[1][1]},i.on=function(t,n){return e.on(t,n),i},d3.select(window).on("mousemove.brush",br).on("mouseup.brush",Er).on("keydown.brush",gr).on("keyup.brush",yr),i};var sr,or,ur,ar,fr,lr,cr,hr,pr,dr,Sr={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};d3.behavior={},d3.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",i),d3.select(window).on("mousemove.drag",_r).on("touchmove.drag",_r).on("mouseup.drag",Dr,!0).on("touchend.drag",Dr,!0).on("click.drag",Pr,!0)}function r(){xr=e,Tr=d3.event.target,Nr=this,Cr=arguments,Lr=Mr(),t?(kr=t.apply(Nr,Cr),kr=[kr.x-Lr[0],kr.y-Lr[1]]):kr=[0,0],Ar=0}function i(){r.apply(this,arguments),Or("dragstart")}var e=d3.dispatch("drag","dragstart","dragend"),t=null;return n.on=function(t,r){return e.on(t,r),n},n.origin=function(e){return arguments.length?(t=e,n):t},n};var xr,Tr,Nr,Cr,kr,Lr,Ar;d3.behavior.zoom=function(){function r(){this.on("mousedown.zoom",s).on("mousewheel.zoom",o).on("DOMMouseScroll.zoom",o).on("dblclick.zoom",u).on("touchstart.zoom",a),d3.select(window).on("mousemove.zoom",Gr).on("mouseup.zoom",Yr).on("touchmove.zoom",Qr).on("touchend.zoom",Kr).on("click.zoom",Zr,!0)}function i(){qr=e,Rr=n,Ur=t.zoom,zr=d3.event.target,Wr=this,Xr=arguments}function s(){i.apply(this,arguments),Br=$r(d3.svg.mouse(Wr)),Vr=0,d3.event.preventDefault(),window.focus()}function o(){i.apply(this,arguments),jr||(jr=$r(d3.svg.mouse(Wr))),ei(Jr()+e[2],d3.svg.mouse(Wr),jr)}function u(){i.apply(this,arguments);var t=d3.svg.mouse(Wr);ei(d3.event.shiftKey?Math.ceil(e[2]-1):Math.floor(e[2]+1),t,$r(t))}function a(){i.apply(this,arguments);var t=Kr(),n,r=Date.now();t.length===1&&r-Ir<300&&ei(1+Math.floor(e[2]),n=t[0],Fr[n.identifier]),Ir=r}var e=[0,0,0],t=d3.dispatch("zoom"),n=ti;return r.extent=function(e){return arguments.length?(n=e==null?ti:e,r):n},r.on=function(e,n){return t.on(e,n),r},r};var Hr,Br,jr,Fr={},Ir=0,qr,Rr,Ur,zr,Wr,Xr,Vr,ti=[[-Infinity,Infinity],[-Infinity,Infinity],[-Infinity,Infinity]]})();
